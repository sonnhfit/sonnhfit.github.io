---
layout: post
title: BÃ i toÃ¡n Ä‘iá»u phá»‘i xe Ä‘iá»‡n vá»›i thá»i gian sáº¡c vÃ  di chuyá»ƒn khÃ¡c nhau
mathjax: true
---

ChÃ o cÃ¡c báº¡n mÃ¬nh lÃ  **SÆ¡n** hÃ´m trÆ°á»›c mÃ¬nh Ä‘Æ°á»£c má»™t báº¡n ná»¯ nhá» nghiÃªn cá»©u bÃ i toÃ¡n Ä‘iá»u phá»‘i xe Ä‘iá»‡n cho Ä‘á»“ Ã¡n tá»‘t nghiá»‡p cá»§a báº¡n áº¥y. Do báº¡n áº¥y cÆ°á»i cÅ©ng xinh vÃ  tÃ­nh dáº¡i gÃ¡i cá»§a mÃ¬nh ná»•i lÃªn vÃ  mÃ¬nh Ä‘Ã£ nháº­n lá»i nghiÃªn cá»©u bÃ i toÃ¡n nÃ y. ÄÃ³ lÃ  lÃ½ do bÃ i viÃªt nÃ y ra Ä‘á»i.

Váº¥n Ä‘á» Ä‘á»‹nh tuyáº¿n, Ä‘iá»u phá»‘i xe Ä‘iá»‡n vá»›i thá»i gian sáº¡c vÃ  thá»i gian di chuyá»ƒn thay Ä‘á»•i Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘á»ƒ giáº£i quyáº¿t má»™t sá»‘ váº¥n Ä‘á» váº­n hÃ nh
xe Ä‘iá»‡n cháº³ng háº¡n nhÆ° giá»›i háº¡n pháº¡m vi vÃ  nhu cáº§u sáº¡c cá»§a xe Ä‘iá»‡n.

CÃ¡ch giáº£i quyáº¿t bÃ i toÃ¡n lÃ  sá»­ dá»¥ng giáº£i thuáº­t di chuyá»n Ä‘á»ƒ tÃ¬m Ä‘Æ°á»£c cÃ¡c tuyáº¿n Ä‘Æ°á»ng tá»‘i Æ°u, thá»i gian rá»i khá»i xe, káº¿ hoáº¡ch tÃ­nh phÃ­.
Trong khi Ä‘Ã³ má»™t giáº£i thuáº­t Dynamic  Dijkstra tÃ¬m Ä‘Æ°á»ng ngáº¯n nháº¥t giá»¯a hai Node liá»n ká» dá»c theo cÃ¡c tuyáº¿n Ä‘Æ°á»ng. Äá»ƒ háº¡n cháº¿  vÃ  ngÄƒn cháº·n cáº¡n kiá»‡t toÃ n bá»™ pin cÅ©ng nhÆ° Ä‘áº£m báº£o hoáº¡t Ä‘á»™ng giao thÃ´ng. Cá»§a cÃ¡c xe Ä‘iá»‡n vá»›i viá»‡c khÃ´ng Ä‘á»§ nÄƒng lÆ°á»£ng cáº§n sáº¡c láº¡i á»Ÿ cÃ¡c Ä‘iá»ƒm sáº¡c. CÃ¡c biáº¿n Ä‘á»™ng vá» thá»i gian sáº¡c vÃ  di chuyá»ƒn khÃ¡c nhau thá»ƒ hiá»‡n cho viá»‡c sá»± nÄƒng Ä‘á»™ng cá»§a cÃ¡c phÆ°Æ¡ng tiá»‡n giao thÃ´ng

## PhÃ¢Ì€n 1 mÆ¡Ì‰ Ä‘Ã¢Ì€u

 Vá»›i khá»§ng hoáº£ng nÄƒng lÆ°á»£ng vÃ  Ã´ nhiá»…m mÃ´i trÆ°á»ng, sá»­ dá»¥ng nÄƒng lÆ°á»£ng vÃ­ dá»¥ nhÆ° sÄƒng dáº§u hoáº·c nhá»¯ng cháº¥t Ä‘á»‘t tÆ°Æ¡ng tá»± Ä‘ang gÃ¢y Ã´ nhiá»…m mÃ´i trÆ°á»ng vÃ  Ä‘Æ°á»£c nhiá»u quá»‘c gia quan tÃ¢m chÃº Ã½. 30% khÃ­ tháº£i tá»« hoáº¡t Ä‘á»™ng giao thÃ´ng gÃ¢y hiá»‡u á»©ng nhÃ  kÃ­nh á»Ÿ USA. VÃ¬ tháº¿ viá»‡c xá»­ lÃ½ hiá»‡u quáº£, chuyÃªn sÃ¢u, vÃ  giáº£m lÆ°á»£ng cacbon cá»§a hoáº¡t Ä‘á»™ng giao thÃ´ng lÃ  má»™t chá»§ Ä‘á» ráº¥t Ä‘Æ°á»£c quan tÃ¢m. CÃ³ hai cÃ¡ch tiáº¿p cáº­n bá»n vá»¯ng cho váº¥n Ä‘á» nÃ y.
ChÃºng ta sáº½ báº¯t Ä‘áº§u xem sÃ©t. Váº¥n Ä‘á» cÃ´ng nghá»‡ tÃ¡i táº¡o nÄƒng lÆ°á»£ng vÃ  viá»‡c sá»­ dá»¥ng hiá»‡u quáº£ cÃ¡c phÆ°Æ¡ng thá»©c trong váº­n táº£i. Má»™t hÆ°á»›ng khÃ¡c phÃ¡t triá»ƒn vÃ  tÃ¡i cáº¥u trÃºc cÃ´ng nghá»‡ nÄƒng lÆ°á»£ng vÃ­ dá»± nhÆ° cÃ¡c loáº¡i xe AFVs, PHEVs, EVs (cÃ¡c loáº¡i xe Ä‘iá»‡n, hoáº·c cÃ¡c loáº¡i xe káº¿t há»£p nhiá»u dáº¡ng nguyÃªn liá»‡u) 


## PhÃ¢Ì€n 2 mÃ´ táº£ bÃ i toÃ¡n 

Giáº£ sá»­ ráº±ng cÃ³ 20 EV(xe Ä‘iá»‡n) háº­u cáº§n cÃ³ sáºµn Ä‘á»ƒ giao nhiá»u hÃ ng hÃ³a tá»« kho duy nháº¥t cho khÃ¡ch hÃ ng. YÃªu cáº§u táº¥t cáº£ cÃ¡c phÆ°Æ¡ng tiá»‡n Ä‘Ã£ sá»­ dá»¥ng pháº£i khá»Ÿi hÃ nh tá»« kho Ä‘á»ƒ thá»±c hiá»‡n giao hÃ ng vÃ  quay trá»Ÿ láº¡i kho Ä‘Æ°á»£c Ã¡p dá»¥ng. Trong chuyáº¿n lÆ°u diá»…n giá»¯a chá»«ng, nhá»¯ng chiáº¿c xe nÃ y khÃ´ng Ä‘Æ°á»£c phÃ©p quay trá»Ÿ láº¡i kho. Äá»ƒ ngÄƒn cháº·n sá»± cáº¡n kiá»‡t cá»§a toÃ n bá»™ pin, EVs vá»›i nguá»“n pin khÃ´ng Ä‘á»§ cÃ³ thá»ƒ Ä‘Æ°á»£c sáº¡c láº¡i táº¡i cÃ¡c tráº¡m sáº¡c nhiá»u láº§n trong quÃ¡ trÃ¬nh váº­n chuyá»ƒn.

Má»™t káº¿ hoáº¡ch váº­n hÃ nh xe tá»‘i Æ°u bao gá»“m tuyáº¿n Ä‘Æ°á»ng, thá»i gian khá»Ÿi hÃ nh xe táº¡i kho, tÃ­nh phÃ­ káº¿ hoáº¡ch, vÃ  nhá»¯ng con Ä‘Æ°á»ng ngáº¯n nháº¥t cÃ³ Ä‘Æ°á»£c Ä‘á»ƒ Ä‘Ã¡p á»©ng khÃ¡ch hÃ ng nhu cáº§u, Ä‘áº£m báº£o an toÃ n hoáº¡t Ä‘á»™ng vÃ  giáº£m chi phÃ­. CÃ¡c tuyáº¿n Ä‘Æ°á»ng vÃ  thá»i gian khá»Ÿi hÃ nh xe táº¡i kho. Cáº§n tráº£ lá»i Hai cÃ¢u há»i sau: khÃ¡ch hÃ ng Ä‘Æ°á»£c truy cáº­p nhÆ° tháº¿ nÃ o vÃ  khi nÃ o cÃ¡c phÆ°Æ¡ng tiá»‡n Ä‘Æ°á»£c sá»­ dá»¥ng khá»Ÿi hÃ nh tá»« kho, tÆ°Æ¡ng á»©ng. CÃ¡c
káº¿ hoáº¡ch tÃ­nh phÃ­ lÃ  Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nhÆ° tháº¿ nÃ o vÃ  khi nÃ o cÃ¡c phÆ°Æ¡ng tiá»‡n Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i nhu cáº§u sáº¡c Ä‘Æ°á»£c sáº¡c láº¡i. CÃ¡c con Ä‘Æ°á»ng ngáº¯n nháº¥t lÃ  hÆ°á»›ng dáº«n cÃ¡c phÆ°Æ¡ng tiá»‡n cÃ¡ch lÃ¡i xe lá»›n máº¡ng lÆ°á»›i Ä‘Æ°á»ng bá»™.

Äá»ƒ ngá»¥ Ã½ sÆ¡ Ä‘á»“ váº­n hÃ nh xe tá»‘i Æ°u, chÃºng tÃ´i hiá»ƒn thá»‹ má»™t vÃ­ dá»¥ káº¿t quáº£ Ä‘Æ¡n giáº£n vá»›i 10 khÃ¡ch hÃ ng vÃ  8 láº§n sáº¡c cÃ¡c tráº¡m (tham kháº£o HÃ¬nh 1). Káº¿t quáº£ chi tiáº¿t lÃ  sau: depot-1-9-C2-6-depot (tuyáº¿n 1), depot-5-4-7-8-C5-kho (tuyáº¿n 2) vÃ  kho-2-3-10-kho (tuyáº¿n 3)

![MÃ´ táº£ bÃ i toÃ¡n tá»‘i Æ°u Ä‘iá»u phá»‘i xe Ä‘iá»‡n vá»›i thá»i gian khÃ¡c nhau]({{ site.baseurl }}/images/hinh1_toi-uu.PNG "MÃ´ táº£ bÃ i toÃ¡n tá»‘i Æ°u Ä‘iá»u phá»‘i xe Ä‘iá»‡n vá»›i thá»i gian khÃ¡c nhau")

Xe trÃªn tuyáº¿n 1 rá»i kho lÃºc 13:40 Ä‘á»ƒ thÄƒm ba khÃ¡ch hÃ ng (1, 9, 6) vÃ  cáº§n Ä‘Æ°á»£c sáº¡c láº¡i táº¡i nÃºt C2 trong quÃ¡ trÃ¬nh váº­n chuyá»ƒn. TÆ°Æ¡ng tá»±, chiáº¿c xe trÃªn tuyáº¿n Ä‘Æ°á»ng 2 rá»i khá»i kho lÃºc 15:10 vÃ  Ä‘Æ°á»£c sáº¡c láº¡i táº¡i nÃºt C5. TrÃªn tuyáº¿n Ä‘Æ°á»ng 3, chiáº¿c xe cÃ³ Ä‘á»§ nÄƒng lÆ°á»£ng pin cho toÃ n bá»™ chuyáº¿n Ä‘i Ä‘á»ƒ khÃ´ng cÃ³ nhu cáº§u di chuyá»ƒn Ä‘áº¿n báº¥t ká»³ tráº¡m sáº¡c nÃ o. Bá»Ÿi vÃ¬ toÃ n bá»™ máº¡ng lÆ°á»›i Ä‘Æ°á»ng bao gá»“m thÃ´ng tin giao lá»™ lá»›n khÃ´ng Ä‘Æ°á»£c Ä‘Æ°a ra trong HÃ¬nh 1, cÃ¡c Ä‘Æ°á»ng dáº«n ngáº¯n nháº¥t khÃ´ng Ä‘Æ°á»£c xÃ¢y dá»±ng. Má»™t trÆ°á»ng há»£p nghiÃªn cá»©u thá»±c táº¿ vÃ  káº¿t quáº£ hoÃ n chá»‰nh tÆ°Æ¡ng á»©ng Ä‘Æ°á»£c trÃ¬nh bÃ y trong Pháº§n 5

NgoÃ i ra, má»™t thuáº­t toÃ¡n Dijkstra Ä‘á»™ng Ä‘Æ°á»£c giá»›i thiá»‡u trong Má»¥c 2.3 Ä‘Æ°á»£c Ä‘á» xuáº¥t Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» con Ä‘Æ°á»ng ngáº¯n nháº¥t

2.1. Charging Demand (Nhu cáº§u sáº¡c pin). NÃ³i chung, CÃ´ng ty hÃ´Ìƒ trÆ¡Ì£ caÌc xe EV coÌ  Ä‘iÃªÌ‰m saÌ£c taÌ£i kho. EV cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ­nh phÃ­ trong thá»i gian nhÃ n rá»—i (vÃ­ dá»¥: thá»i gian ban Ä‘Ãªm). VÃ¬ váº­y, khi rá»i kho,
EVs cÃ³ nguá»“n pin Ä‘áº§y Ä‘á»§. Tuy nhiÃªn, Ä‘Ã´i khi nhá»¯ng chuyáº¿n Ä‘i quÃ¡ dÃ i Ä‘á»ƒ EV khÃ´ng cÃ³ Ä‘á»§ pin hoÃ n thÃ nh toÃ n bá»™ chuyáº¿n Ä‘i Ä‘oÌ. tráº¡m sáº¡c cÃ´ng cá»™ng cung cáº¥p sá»± lá»±a chá»n tá»‘t hÆ¡n cháº¡y EV Ä‘á»ƒ bá»• sung nÄƒng lÆ°á»£ng pin. Theo Hiá»‡p há»™i ká»¹ sÆ° Ã´ tÃ´ (SAE), ba cáº¥p Ä‘á»™ sáº¡c
tá»“n táº¡i, nhÆ° Ä‘Æ°á»£c liá»‡t kÃª trong Báº£ng 1. 
![ 3 CÃ¢Ìp Ä‘Ã´Ì£ saÌ£c xe Ä‘iÃªÌ£n]({{ site.baseurl }}/images/distra_bang_lv.png "3 CÃ¢Ìp Ä‘Ã´Ì£ saÌ£c xe Ä‘iÃªÌ£n")

Cáº¥p 1 phÃ¹ há»£p Ä‘á»ƒ qua Ä‘Ãªm táº¡i nhÃ  vÃ  nÆ¡i lÃ m viá»‡c. Cáº¥p 2 thÆ°á»ng Ä‘Æ°á»£c cÃ i Ä‘áº·t
táº¡i cÃ¡c cÆ¡ sá»Ÿ tÆ° nhÃ¢n vÃ  cÃ´ng cá»™ng. Cáº¥p 3, cÅ©ng Ä‘Æ°á»£c gá»i lÃ  Ä‘á»ƒ sáº¡c nhanh, sáº¡c Ä‘iá»‡n Ã¡p cao.     

Hiá»‡n nay, pháº§n lá»›n cÃ¡c tráº¡m sáº¡c cÃ´ng cá»™ng á»Ÿ Báº¯c Kinh cung cáº¥p sáº¡c nhanh, cÃ³ thá»ƒ nhanh chÃ³ng hoÃ n thÃ nh quÃ¡ trÃ¬nh sáº¡c trong 1 h. NÄƒng lÆ°á»£ng pin Ä‘Æ°á»£c sáº¡c láº¡i thá»±c sá»± khÃ´ng Ä‘Æ°á»£c xem xÃ©t; Ä‘Ã³ lÃ , báº¥t ká»ƒ nÄƒng lÆ°á»£ng pin Khi EV Ä‘áº¿n tráº¡m sáº¡c, sáº¡c thá»i gian Ä‘Æ°á»£c coi lÃ  má»™t giÃ¡ trá»‹ khÃ´ng Ä‘á»•i (giáº£ sá»­ 30 phÃºt). Khi nÃ o sáº¡c láº¡i Ä‘Æ°á»£c thá»±c hiá»‡n, pin Ä‘Æ°á»£c lÃ m Ä‘áº§y vá»›i cÃ´ng suáº¥t. NgoÃ i ra, hÃ ng Ä‘á»£i khÃ´ng Ä‘Æ°á»£c xem xÃ©t; Ä‘Ã³ lÃ , EVs lÃ  cháº¯c cháº¯n sáº¡c láº¡i báº¥t cá»© khi nÃ o cÃ³ thá»ƒ.

MÃ´i trÆ°á»ng giao thÃ´ng nÄƒng Ä‘á»™ng. CÃ¡c Ä‘iá»u kiá»‡n giao thÃ´ng phá»©c táº¡p cÃ³ thá»ƒ máº¥t nhiá»u thá»i gian Ä‘i láº¡i hÆ¡n do Ä‘Ã³ gÃ¢y trá»Ÿ ngáº¡i cho khÃ¡ch hÃ ng phá»¥c vá»¥ ká»‹p thá»i vÃ  kháº£ nÄƒng tiáº¿p cáº­n phÆ°Æ¡ng tiá»‡n. Viá»‡c triá»ƒn khai, cháº³ng háº¡n nhÆ° biáº¿n Ä‘á»™ng vá» thá»i gian di chuyá»ƒn, lÃ  má»™t phÆ°Æ¡ng phÃ¡p hiá»‡u quáº£ Ä‘á»ƒ pháº£n Ã¡nh mÃ´i trÆ°á»ng giao thÃ´ng nÄƒng Ä‘á»™ng trong máº¡ng lÆ°á»›i Ä‘Æ°á»ng bá»™ thá»±c sá»±. Do Ä‘Ã³, thá»i gian di chuyá»ƒn thay Ä‘á»•i Ä‘Æ°á»£c giá»›i thiá»‡u Ä‘á»ƒ khÃ´i phá»¥c mÃ´i trÆ°á»ng lÃ¡i xe thá»±c sá»± cá»§a EVs. TÃ­nh toÃ¡n hiá»‡u quáº£ vÃ  toÃ n diá»‡n vá» thá»i gian Ä‘i du lá»‹ch lÃ  ráº¥t Ä‘Ã¡ng ká»ƒ.

![ tá»‘c Ä‘á»™ di chuyá»ƒn thay Ä‘á»•i]({{ site.baseurl }}/images/hinh2.png "3 tá»‘c Ä‘á»™ di chuyá»ƒn thay Ä‘á»•i")

TÃ­nh toÃ¡n thá»i gian di chuyá»ƒn Ä‘Æ°á»£c Ä‘á» xuáº¥t bá»Ÿi Ichoua 2003 [25], trong Ä‘Ã³ viá»‡c Ä‘iá»u chá»‰nh tá»‘c Ä‘á»™ di chuyá»ƒn Ä‘Æ°á»£c xem xÃ©t vÃ  thuá»™c tÃ­nh FIFO Ä‘Æ°á»£c chá»©ng nháº­n Ä‘Æ°á»£c Ã¡p dá»¥ng trong bÃ i viáº¿t nÃ y. Má»™t ngÃ y Ä‘Æ°á»£c chia thÃ nh nhiá»u khoáº£ng thá»i gian. Tá»‘c Ä‘á»™ di chuyá»ƒn khÃ´ng Ä‘Æ°á»£c giáº£ Ä‘á»‹nh lÃ  khÃ´ng Ä‘á»•i vÃ  thay Ä‘á»•i khi má»™t chiáº¿c xe vÆ°á»£t qua ranh giá»›i giá»¯a hai khoáº£ng thá»i gian liÃªn tiáº¿p. Thá»i gian tÄƒng tá»‘c hoáº·c thá»i gian giáº£m tá»‘c Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh bá»Ÿi hai tá»‘c Ä‘á»™ di chuyá»ƒn khÃ¡c nhau trong Ä‘Æ°á»ng biÃªn lÃ  ngáº¯n vÃ  nÃªn
bá»‹ coi thÆ°á»ng. NÃ³i cÃ¡ch khÃ¡c, tá»‘c Ä‘á»™ di chuyá»ƒn thay Ä‘á»•i Ä‘Æ°á»£c coi lÃ  má»™t chá»©c nÄƒng bÆ°á»›c (tham kháº£o HÃ¬nh 2). Thá»i gian di chuyá»ƒn lÃ  tá»•ng thá»i gian di chuyá»ƒn vÃ  tá»‘c Ä‘á»™ giao thÃ´ng khÃ¡c nhau.


viÌ duÌ£: coÌ nhiÃªÌ€u khoaÌ‰ng thÆ¡Ì€i gian $$ T_i  $$  trong Ä‘oÌ  $$ i = 1, 2, 3..n $$ 
MÃ´Ì£t chiÃªÌc xe rÆ¡Ì€i khoÌ‰i nuÌt bÄƒÌt Ä‘Ã¢Ì€u cuÌ‰a liÃªn kÃªÌt $$ a $$ taÌ£i thÆ¡Ì€i Ä‘iÃªÌ‰m $$ T_k $$ vaÌ€ di chuyÃªÌ‰n vÆ¡Ìi tÃ´Ìc Ä‘Ã´Ì£ $$ V_a^{T_k} $$ Cho Ä‘ÃªÌn khi xe Ä‘ÃªÌn taÌ£i nuÌt nÄƒÌ€m Æ¡Ì‰ ranh giÆ¡Ìi $$ T_k $$ vaÌ€ $$ T_{k + 1}$$. Xe Ä‘i vÆ¡Ìi tÃ´Ìc Ä‘Ã´Ì£ $$ V_a^{ T_{ k+1 } } $$ cho Ä‘ÃªÌn khi xe Ä‘ÃªÌn node nÄƒÌ€m Æ¡Ì‰ danh giÆ¡Ìi $$ T_{ k+1 } $$ vaÌ€ $$ T_{k+2} $$. Cuá»‘i cÃ¹ng, chiáº¿c xe Ä‘áº¿n nÃºt cuá»‘i cá»§a liÃªn káº¿t $$ a $$ táº¡i khoáº£ng thá»i gian $$ T_m $$.
HÃ¬nh 3 cho tháº¥y khoáº£ng cÃ¡ch di chuyá»ƒn vÃ  thá»i gian di chuyá»ƒn cá»§a
xe Ä‘i qua link a. Dá»±a trÃªn quy trÃ¬nh, thá»i gian di chuyá»ƒn tá»« nÃºt $$ i $$ Ä‘áº¿n nÃºt $$ j $$ lÃ :

$$ t_ij = \sum_{ a\in{L_ij} } \sum_{i=k}^n \frac{l_a^{T_i}}{v_a^{T_i}} $$ (1)

$$ \sum_{i=k}^n l^{T_i}_a = l_a $$ (2)

Trong Ä‘oÌ $$ l_a^{T_i} $$ laÌ€ Ä‘Ã´Ì£ daÌ€i cuÌ‰a quaÌƒng Ä‘Æ°Æ¡Ì€ng di chuyÃªÌ‰n cuÌ‰a xe Ä‘i qua liÃªn kÃªÌt a trong khoaÌ‰ng thÆ¡Ì€i gian $$ T_i $$ vaÌ€ $$ l_a $$ laÌ€ Ä‘Ã´Ì£ daÌ€i cuÌ‰a liÃªn kÃªÌt $$ a $$.

![ ThÆ¡Ì€i gian di chuyÃªÌ‰ cuÌ‰a xe Ä‘i qua liÃªn kÃªÌt a]({{ site.baseurl }}/images/p1_linka.png "ThÆ¡Ì€i gian di chuyÃªÌ‰ cuÌ‰a xe Ä‘i qua liÃªn kÃªÌt a")

###  ThuÃ¢Ì£t toaÌn Dijkstra Ä‘Ã´Ì£ng (Dynamic Dijkstra Algorithm)

CÃ³ nhá»¯ng giao lá»™ lá»›n trong má»™t máº¡ng lÆ°á»›i Ä‘Æ°á»ng thá»±c sá»±. Má»™t Ä‘iá»u khÃ´ng thá»±c táº¿ lÃ  cÃ¡c phÆ°Æ¡ng tiá»‡n lÃ¡i xe theo Ä‘Æ°á»ng tháº³ng giá»¯a hai nÃºt. Do Ä‘Ã³, lÃ m tháº¿ nÃ o Ä‘á»ƒ tÃ¬m ra cÃ¡c Ä‘Æ°á»ng dáº«n ngáº¯n nháº¥t giá»¯a hai nÃºt liá»n ká» dá»c theo cÃ¡c tuyáº¿n lÃ  má»™t váº¥n Ä‘á» trong mÃ´ hÃ¬nh EVRP-CTVTT.
CaÌc tuyÃªÌn Ä‘Æ°Æ¡Ì€ng, thÆ¡Ì€i gian khÆ¡Ì‰i haÌ€nh xe taÌ£i kho, vaÌ€ goÌi saÌ£c Ä‘Æ°Æ¡Ì£c lÃ¢Ìy tÆ°Ì€ mÃ´ hiÌ€nh EVRP-CTVTT hiÃªÌ£n diÃªÌ£n trong phÃ¢Ì€n 3. VÃ¢Ìn Ä‘ÃªÌ€ Ä‘Æ°Æ¡Ì€ng dÃ¢Ìƒn ngÄƒÌn nhÃ¢Ìt (SP) trong phÃ¢Ì€n naÌ€y Ä‘Æ°Æ¡Ì£c Ä‘ÃªÌ€ cÃ¢Ì£p Ä‘ÃªÌ‰ mÃ´ taÌ‰ giaÌ‰i phaÌp seÌƒ sÆ°Ì‰ duÌ£ng trong mÃ´ hiÌ€nh  EVRP-CTVTT.
ChuÌng ta cÃ¢Ì€n coÌ Ä‘Æ°Æ¡Ì£c Ä‘Æ°Æ¡Ì€ng Ä‘i ngÄƒÌn nhÃ¢Ìt vÆ¡Ìi chi phiÌ tÃ´Ìi thiÃªÌ‰u trong mÃ´Ì£t Ä‘Ã´Ì€ thiÌ£ Ä‘Ã¢Ì€y Ä‘uÌ‰. PhÆ°Æ¡ng phaÌp phÃ´Ì‰ biÃªÌn nhÃ¢Ìt laÌ€ thuÃ¢Ì£t toaÌn Dijkstra cÃ´Ì‰ Ä‘iÃªÌ‰n Ä‘oÌ laÌ€ mÃ´Ì£t phÆ°Æ¡ng phaÌp giaÌ‰ sÆ°Ì‰ mÃ´Ì£t nuÌt Ä‘Æ¡n leÌ‰ giÃ´Ìng nhÆ° nuÌt nguÃ´Ì€n, vaÌ€ tiÌ€m caÌc Ä‘Æ°Æ¡Ì€ng dÃ¢Ìƒn ngÄƒÌn nhÃ¢Ìt tÆ°Ì€ nguÃ´Ì€n tÆ¡Ìi tÃ¢Ìt caÌ‰ caÌc nuÌt khaÌc trong biÃªÌ‰u Ä‘Ã´Ì€ vaÌ€ taÌ£o ra mÃ´Ì£t cÃ¢y Ä‘Æ°Æ¡Ì€ng Ä‘i ngÄƒÌn nhÃ¢Ìt. Trong thuÃ¢Ì£t toaÌn Dijkstra cÃ´Ì‰ Ä‘iÃªÌ‰n troÌ£ng sÃ´Ì liÃªn kÃªÌt giÆ°Ìƒa caÌc Ä‘iÌ‰nh luÃ´n Ä‘Æ°Æ¡Ì£c coi laÌ€ khoaÌ‰ng caÌch (HÄƒÌ€ng sÃ´Ì)

Tuy nhiÃªn, hÃªÌ£ thÃ´Ìng giao thÃ´ng trong thÆ°Ì£c tÃªÌ laÌ£i coÌ nhiÃªÌ€u biÃªÌn sÃ´Ì thay Ä‘Ã´Ì‰i liÃªn tuÌ£c, caÌc phÆ°Æ¡ng tiÃªÌ£n mÃ¢Ìt nhiÃªÌ€u thÆ¡Ì€i gian hÆ¡n. PhÃ¢Ì€n lÆ¡Ìn laÌi xe quan tÃ¢m nhiÃªÌ€u hÆ¡n Ä‘ÃªÌn thÆ¡Ì€i gian thay viÌ€ khoaÌ‰ng caÌch. Do Ä‘oÌ, thÆ¡Ì€i gian di chuyÃªÌ‰n thay viÌ€ khoaÌ‰ng caÌch Ä‘Æ°Æ¡Ì£c coi laÌ€ liÃªn kÃªÌt troÌ£ng sÃ´Ì.

Thá»i gian di chuyá»ƒn cá»§a má»—i liÃªn káº¿t khÃ´ng pháº£i lÃºc nÃ o cÅ©ng khÃ´ng Ä‘á»•i vÃ  thay Ä‘á»•i theo thá»i gian thá»±c. Sau Ä‘Ã³, trá»ng lÆ°á»£ng liÃªn káº¿t Ä‘Æ°á»£c gÃ¢y ra lÃ  Ä‘Ã´Ì£ng. Äá»ƒ giáº£i quyáº¿t SP vá»›i thá»i gian di chuyá»ƒn thay Ä‘á»•i, chÃºng tÃ´i tham kháº£o cÃ¡ch xÃ¢y dá»±ng vÃ  lÃ½ thuyáº¿t cá»§a thuáº­t toÃ¡n Dijkstra cá»• Ä‘iá»ƒn vÃ  thá»±c hiá»‡n má»™t sá»‘ cáº£i tiáº¿n so vá»›i thuáº­t toÃ¡n Dijkstra cá»• Ä‘iá»ƒn Ä‘á»ƒ Ä‘á» xuáº¥t thuáº­t toÃ¡n Dijkstra Ä‘á»™ng, trong Ä‘Ã³ thá»i gian di chuyá»ƒn giá»¯a hai báº¥t ká»³
cÃ¡c nÃºt trong biá»ƒu Ä‘á»“ cáº§n Ä‘Æ°á»£c tÃ­nh toÃ¡n láº¡i Ä‘á»ƒ trá»ng lÆ°á»£ng liÃªn káº¿t Ä‘Æ°á»£c cáº­p nháº­t theo thá»i gian thá»±c khi má»™t nÃºt chá»n nÃºt Ä‘Æ°á»£c káº¿t ná»‘i tiáº¿p theo.
Theo tÃ­nh toÃ¡n thá»i gian di chuyá»ƒn trong Má»¥c 2.2, pháº£i biáº¿t khoáº£ng thá»i gian cá»§a xe Ä‘áº¿n nÃºt báº¯t Ä‘áº§u cá»§a liÃªn káº¿t hiá»‡n táº¡i. Tuy nhiÃªn,cÃ³ thá»ƒ cÃ³ má»™t sá»‘ liÃªn káº¿t ngÆ°á»£c dÃ²ng cho liÃªn káº¿t hiá»‡n táº¡i. Khi liÃªn káº¿t hiá»‡n táº¡i Ä‘Æ°á»£c chuyá»ƒn tá»« cÃ¡c liÃªn káº¿t ngÆ°á»£c dÃ²ng khÃ¡c nhau, cÃ³ thá»i gian Ä‘áº¿n khÃ¡c nhau táº¡i nÃºt báº¯t Ä‘áº§u cá»§a liÃªn káº¿t hiá»‡n táº¡i. VÃ¬ váº­y, khoáº£ng thá»i gian xe Ä‘áº¿n nÃºt báº¯t Ä‘áº§u cá»§a liÃªn káº¿t hiá»‡n táº¡i pháº£i Ä‘Æ°á»£c ghi trá»±c tuyáº¿n káº¿t há»£p vá»›i cÃ¡c khoáº£ng thá»i gian cá»§a liÃªn káº¿t hiá»‡n táº¡i Ä‘á»ƒ tÃ­nh thá»i gian di chuyá»ƒn cá»§a liÃªn káº¿t hiá»‡n táº¡i.
DÆ°Ì£a trÃªn nhÆ°Ìƒng yÌ tÆ°Æ¡Ì‰ng cuÌ‰a thuÃ¢Ì£t toaÌn Dijkstra Ä‘Ã´Ì£ng Ä‘Æ°Æ¡Ì£c mÃ´ taÌ‰ Æ¡Ì‰ dÆ°Æ¡Ìi. Graph laÌ€ maÌ£ng lÆ°Æ¡Ìi Ä‘Æ°Æ¡Ì€ng bÃ´Ì£, source laÌ€ Ä‘iÃªÌ‰m gÃ´Ìc xuÃ¢Ìt phaÌt, target laÌ€ Ä‘iÌch Ä‘ÃªÌn. ThÆ¡Ì€i gian di chuyÃªÌ‰n cuÌ‰a con Ä‘Æ°Æ¡Ì€ng ngÄƒÌn nhÃ¢Ìt tÆ°Ì€ nguÃ´Ì€n Ä‘ÃªÌn Ä‘iÌch: $$ cost(u, V) $$ Ä‘aÌ£i diÃªÌ£n cho troÌ£ng sÃ´Ì cuÌ‰a liÃªn kÃªÌt giÆ°Ìƒa (u, V). Xe Ä‘ÃªÌn node thÆ°Ì $$ i $$ taÌ£i thÆ¡Ì€i Ä‘iÃªÌ‰m $$ time[i] $$,S LÃ  dÃ£y Ä‘Æ°á»ng Ä‘i ngáº¯n nháº¥t tá»« ğ‘ ğ‘œğ‘¢ğ‘Ÿğ‘ğ‘’ Ä‘áº¿n ğ‘¡ğ‘ğ‘Ÿğ‘”ğ‘’ğ‘¡;

MaÌƒ giaÌ‰ cuÌ‰a thuÃ¢Ì£t toaÌn Dijkstra Ä‘Ã´Ì£ng ( tiÌ€m Ä‘Æ°Æ¡Ì€ng ngÄƒÌn nhÃ¢Ìt Ä‘Ã´Ì£ng) nhÆ° sau:
```
DuyÃªÌ£t tÆ°Ì€ng Node v trong Graph
{
    dist[v] = vÃ´ cÆ°Ì£c
    prev[v] = Undefined
    ThÃªm v vaÌ€o haÌ€ng Ä‘Æ¡Ì£i Q
}

dist[source] = 0
u0 = source

Trong khi Q chÆ°a rÃ´Ìƒng
{
    u = node in Q vÆ¡Ìi Ä‘iÃªÌ€u kiÃªÌ£n min dist[u]
    xoÌa u khoÌ‰i Q
    NÃªÌu prev[u] is defined
    {
        u0 = prev[u]
        cost(u0, u) = kÃªÌt quaÌ‰ cuÌ‰a biÃªÌ‰u thÆ°Ìc (1) vÆ¡Ìi T0
        time[u] = time[u0] + cost(u0, u)

    }
    DuyÃªÌ£t tÆ°Ì€ng haÌ€ng xoÌm v cuÌ‰a u
    {
        cost(u, v) = kÃªÌt quaÌ‰ cuÌ‰a biÃªÌ‰u thÆ°Ìc (1) vÆ¡Ìi time[u]
        alt = dist[u] + cost(u, v)
        NÃªÌu (alt < dist[v]>)
        {
            dist[v] = alt
            prev[v] = u
            time[v] = time[v] + cost(u, v)
        }
    }
}
return dist[], prev[]
S = ""
u = Ä‘iÌch
while prev[u] is defined:
{
    CheÌ€n u vaÌ€o Ä‘Ã¢Ì€u cuÌ‰a S
    u = prev[u]
}

CheÌ€n u vaÌ€o Ä‘Ã¢Ì€u cuÌ‰a S

```


## PhÃ¢Ì€n 3 xÃ¢y dÆ°Ì£ng mÃ´ hiÌ€nh

DÆ°Ì£a trÃªn mÃ´ taÌ‰ vÃ¢Ìn Ä‘ÃªÌ€ Æ¡Ì‰ phÃ¢Ì€n 2 mÃ´ hiÌ€nh EVRP-CTVTT Ä‘Æ°Æ¡Ì£c xÃ¢y dÆ°Ì£ng nhÆ° chÆ°Æ¡ng triÌ€nh tuyÃªÌn tiÌnh bÃªn dÆ°Æ¡Ìi. VaÌ€ caÌc biÃªÌn liÃªn quan trong mÃ´ hiÌ€nh Ä‘Æ°Æ¡Ì£c Ä‘iÌ£nh nghiÌƒa nhÆ° sau:

$$ C_0 $$: TÃ´Ì‰ng chi phiÌ

$$ Cf_k $$: Chi phiÌ cÃ´Ì Ä‘iÌ£nh cuÌ‰a xe k

$$ Ct_k $$: Chi phiÌ thÆ¡Ì€i gian Ä‘i laÌ£i cuÌ‰a xe k

$$ Cr_k $$: Chi phiÌ saÌ£c xe k

$$ Cp_k $$: Chi phiÌ thÆ°Æ¡Ì‰ng phaÌ£t cuÌ‰a xe k

$$ C_f $$: Chi phÃ­ xe cá»‘ Ä‘á»‹nh trÃªn má»—i Ä‘Æ¡n vá»‹

$$ c_t $$: Chi phÃ­ thá»i gian cho má»—i Ä‘Æ¡n vá»‹

$$ c_c $$: chi phÃ­ sáº¡c trÃªn má»—i Ä‘Æ¡n vá»‹

$$ c_e $$: chi phÃ­ pháº¡t Ä‘áº¿n sá»›m má»—i Ä‘Æ¡n vá»‹

$$ c_d $$: chi phÃ­ pháº¡t cháº­m trá»… má»—i Ä‘Æ¡n vá»‹

$$ F $$: má»™t bá»™ tráº¡m sáº¡c

$$ O $$: báº¯t Ä‘áº§u kho

$$ O' $$: kÃªÌt thuÌc kho

$$ V: O \cup C \cup F \cup O' $$.

$$ K $$: má»™t bá»™ cÃ¡c phÆ°Æ¡ng tiá»‡n cÃ³ sáºµn

$$ D_{ik} $$: pháº¡m vi cÃ²n láº¡i cá»§a xe k táº¡i nÃºt ğ‘– (km)

$$ d_{ij} $$: KhoaÌ‰ng caÌch di chuyÃªÌ‰n cuÌ‰a con Ä‘Æ°Æ¡Ì€ng ngÄƒÌn nhÃ¢Ìt tÆ°Ì€ node i tÆ¡Ìi node j (km)

$$ D_{max} $$: PhaÌ£m vi laÌi xe tÃ´Ìi Ä‘a (km)

$$ W_{Ok} $$: táº£i trá»ng cá»§a xe k khá»Ÿi hÃ nh tá»« Ä‘áº§u kho (kg)


$$ w_i $$: trá»ng lÆ°á»£ng hÃ ng hÃ³a cá»§a nÃºt ğ‘– (kg)

$$ W_{max} $$: táº£i trá»ng xe (kg)

$$ t_{ijk} $$: ThÆ¡Ì€i gian di chuyÃªÌ‰n cuÌ‰a phÆ°Æ¡ng tiÃªÌ£n k Ä‘i tÆ°Ì€ nuÌt i Ä‘ÃªÌn nuÌt j (phuÌt)

$$ T_{ik} $$: ThÆ¡Ì€i gian khÆ¡Ì‰i haÌ€nh cuÌ‰a xe k taÌ£i nuÌt i

$$ T_o^{early} $$: thá»i gian hoáº¡t Ä‘á»™ng xe sá»›m nháº¥t

$$ T_{o'}^{delay} $$: thá»i gian váº­n hÃ nh xe má»›i nháº¥t

$$ T_i^{early} $$ thá»i gian Ä‘áº¿n sá»›m nháº¥t táº¡i nÃºt i

$$ T_i^{delay} $$ thá»i gian Ä‘áº¿n muá»™n nháº¥t táº¡i nÃºt i

$$ t_c $$: thá»i gian sáº¡c (phÃºt)

$$ z_j $$: cÃ³ tráº¡m sáº¡c táº¡i nÃºt $$ ğ‘—, {1, ğ‘— \in ğ¹;0, khÃ¡c} $$

$$ T_{Ok} $$: Giá» khá»Ÿi hÃ nh cá»§a xe k táº¡i kho

$$ x_{ijk} $$: {1, xe k thÄƒm tÆ°Ì€ node i Ä‘ÃªÌn node j; 0, TrÆ°Æ¡Ì€ng hÆ¡Ì£p khaÌc} 

$$ y_{jk} $$: {1, xe k Ä‘Æ°á»£c sáº¡c láº¡i táº¡i nÃºt j; 0, TrÆ°Æ¡Ì€ng hÆ¡Ì£p khaÌc}


Trong Ä‘oÌ haÌ€m muÌ£c tiÃªu cuÌ‰a model nhÆ° sau:
Minimize $$ C_0 =  \sum_{k \in K } Cf_k + Ct_k + Cr_k + Cp_k $$ (3)

$$ Cf_k = c_f(1 - \sum_{i \in O} \sum_{j \in {O'}} x_{ijk})$$ (4)


$$ Ct_k = c_t (\sum_{i \in {O'}}T_{ik} - \sum_{i \in {O}}T_{ik} - t_c \sum_{i \in F}y_{ik}) $$ (5)

$$ Cr_k = c_c \sum_{i \in F}y_{ik} $$ (6)


$$ Cp_k = \sum_{i \in C}[c_e max {0, T_i^{early}} + c_d max {0, T_[ik] - T_i^{delay}}] $$ (7)

subject to $$ \sum_{i \in C \cup F \cup O} x_{ijk} = 1 \forall j \in C, \forall k \in K $$ (8)

$$ \sum_{j \in C\cup F\cup{O'}} x_{ijk} = 1 \forall i \in C, \forall k \in K $$ (9)

$$ \sum_{ \forall i \in C \cup F\cup O} x_{ijk} = \sum_{\forall m \in C \cup F \cup {O'}} x_{jmk} \forall j \in C \cup F, \forall k \in K $$ (10)

$$ \sum_{ \forall j \in C \cup F \cup {O'}} x_{Ojk} = 1 \forall k \in K $$ (11)


$$ \sum_{ \forall j \in C \cup F \cup {O}} x_{jO'k} = 1 \forall k \in K $$ (12)

$$ D_{jk} = [D_{jk}(1-y_{jk}) + y_{ik}D_{max} - d_{ij}]x_{ijk} \forall i \in C \cup F \cup O , \forall j \in C \cup F \cup O' , \forall k \in K  $$ (13)

$$ D_{ik} >= 0 \forall j \in C \cup F \cup O' , \forall k \in K $$ (14)

$$ D_{Ok} = D_{max} \forall k \in K  $$ (15)


$$ W_{Ok} <= W_{max} \forall j \in V \forall k \in K $$ (16)

$$ W_{Ok} <= W_{max} \forall j \in V, \forall k \in K $$ (17)

$$ T_{jk} = (T_{ik} + t_{ijk} + y_{ik}t_c)x_{ijk} \forall i \in C \cup F \cup O, \forall j \in C \cup F \cup O' , \forall k \in K $$ (18)

$$ T_O^{early} <= T_{Ok}  \forall k \in K $$ (19)

$$ T_{O'}^{delay} >= T_{O'k} \forall k \in K $$ (20)

$$ y_{jk} <= z_j \forall j \in V , \forall k \in K $$ (21)

$$ y_{jk} = {0, 1} \forall j \in V , \forall k \in K $$ (22)

$$ x_{ijk} = {0, 1} \forall j \in C \cup F \cup O' , \forall i \in C \cup F \cup O, \forall k \in K $$ (23)


PhÆ°Æ¡ng trÃ¬nh (3) giáº£m thiá»ƒu tá»•ng chi phÃ­, bao gá»“m chi phÃ­ cá»‘ Ä‘á»‹nh phÆ°Æ¡ng tiá»‡n, chi phÃ­ Ä‘i láº¡i, chi phÃ­ pháº¡t vÃ  chi phÃ­ sáº¡c. Trong (4), cÃ¡c phÆ°Æ¡ng tiá»‡n Ä‘Æ°á»£c sá»­ dá»¥ng chi phÃ­ cá»‘ Ä‘á»‹nh phÆ°Æ¡ng tiá»‡n. Chi phÃ­ Ä‘i láº¡i trong (5) tá»· lá»‡ thuáº­n vá»›i thá»i gian di chuyá»ƒn. PhÆ°Æ¡ng trÃ¬nh (6) mÃ´ táº£ chi phÃ­ Ä‘á»ƒ sá»­ dá»¥ng cÃ¡c tráº¡m sáº¡c. Bá»Ÿi vÃ¬ khÃ¡ch hÃ ng cÃ³ thá»ƒ Ä‘Æ°á»£c phá»¥c vá»¥ sá»›m hoáº·c muá»™n, nÃªn chi phÃ­ pháº¡t Ä‘Æ°á»£c tÃ­nh theo (7).

PhÆ°Æ¡ng trÃ¬nh (8) vÃ  (9) Ä‘áº£m báº£o ráº±ng má»—i khÃ¡ch hÃ ng chá»‰ Ä‘Æ°á»£c truy cáº­p báº±ng má»™t phÆ°Æ¡ng tiá»‡n. PhÆ°Æ¡ng trÃ¬nh (10) trÃ¬nh bÃ y dÃ²ng cháº£y báº£o tá»“n, trong Ä‘Ã³ sá»‘ lÆ°á»£ng khÃ¡ch Ä‘áº¿n pháº£i báº±ng sá»‘ láº§n khá»Ÿi hÃ nh táº¡i báº¥t ká»³ khÃ¡ch hÃ ng hoáº·c tráº¡m thu phÃ­ nÃ o. PhÆ°Æ¡ng trÃ¬nh (11) vÃ  (12) yÃªu cáº§u táº¥t cáº£ cÃ¡c phÆ°Æ¡ng tiá»‡n rá»i khá»i kho báº¯t Ä‘áº§u vÃ  trá»Ÿ vá» kho cuá»‘i. Bá»Ÿi vÃ¬ chá»‰ cÃ³ má»™t kho tá»“n táº¡i, kho báº¯t Ä‘áº§u vÃ  kho cuá»‘i Ä‘Æ°á»£c Ä‘áº·t táº¡i cÃ¹ng má»™t nÃºt (ğ‘‚ = ğ‘‚'). KhÃ´ng cÃ³ phÆ°Æ¡ng tiá»‡n Ä‘ang cháº¡y vÆ°á»£t qua báº¥t ká»³ nÃºt, ngoáº¡i trá»« kho báº¯t Ä‘áº§u vÃ  kho cuá»‘i.

PhÆ°Æ¡ng trÃ¬nh (13) lÃ  biá»ƒu thá»©c cá»§a pháº¡m vi dÆ°. CÃ¡c á»• Ä‘Ä©a dá»±a trÃªn con Ä‘Æ°á»ng ngáº¯n nháº¥t Ä‘Æ°á»£c giáº£i quyáº¿t trong Pháº§n 2.3. Giá»›i háº¡n pháº¡m vi mÃ  pháº¡m vi cÃ²n láº¡i cá»§a báº¥t ká»³ phÆ°Æ¡ng tiá»‡n nÃ o táº¡i báº¥t ká»³ nÃºt nÃ o pháº£i lá»›n hÆ¡n 0 Ä‘Æ°á»£c Ä‘á» xuáº¥t trong (14). CÃ´ng thá»©c (15) nÃ³i ráº±ng má»—i chiáº¿c xe cÃ³ phÃ­ 100% khi rá»i kho báº¯t Ä‘áº§u.

CÃ´ng thá»©c (16) nÃ³i ráº±ng cÃ¡c phÆ°Æ¡ng tiá»‡n giao táº£i nhiá»u táº£i Ä‘áº¿n khÃ¡ch hÃ ng. PhÆ°Æ¡ng trÃ¬nh (17) Ä‘áº£m báº£o ráº±ng trá»ng lÆ°á»£ng táº£i cá»§a má»—i chiáº¿c xe khÃ´ng vÆ°á»£t quÃ¡ kháº£ nÄƒng táº£i cá»§a xe. Trong (18), thá»i gian khá»Ÿi hÃ nh xe táº¡i nÃºt hiá»‡n táº¡i báº±ng vá»›i tá»•ng thá»i gian khá»Ÿi hÃ nh xe táº¡i nÃºt cuá»‘i cÃ¹ng, hÃ nh trÃ¬nh thá»i gian giá»¯a nÃºt cuá»‘i cÃ¹ng vÃ  nÃºt hiá»‡n táº¡i vÃ  thá»i gian sáº¡c. Thá»i gian di chuyá»ƒn cÃ³ Ä‘Æ°á»£c báº±ng thá»i gian di chuyá»ƒn tÃ­nh toÃ¡n ((1) - (2)). PhÆ°Æ¡ng trÃ¬nh (19) - (20) Ä‘áº£m báº£o ráº±ng táº¥t cáº£ xe thá»±c hiá»‡n giao hÃ ng trong thá»i gian váº­n hÃ nh xe giai Ä‘oáº¡n.

PhÆ°Æ¡ng trÃ¬nh (21) yÃªu cáº§u táº¥t cáº£ cÃ¡c phÆ°Æ¡ng tiá»‡n chá»‰ Ä‘áº¿n thÄƒm tráº¡m sáº¡c Ä‘á»ƒ Ä‘Æ°á»£c sáº¡c láº¡i. PhÆ°Æ¡ng trÃ¬nh (22) vÃ  (23) Ä‘áº£m báº£o ráº±ng $$ y_{jk} $$ vÃ  x_{ijk} lÃ  cÃ¡c biáº¿n quyáº¿t Ä‘á»‹nh 0-1.

PhÃ¢Ì€n 4 MÃ´ hÃ¬nh giáº£i phÃ¡p cÃ´ng nghá»‡

CÃ¡c VRP vÃ  cÃ¡c biáº¿n thá»ƒ lÃ  má»™t váº¥n Ä‘á» khÃ³ NP. cÃ¡c thuáº­t toÃ¡n cÃ³ thá»ƒ Ä‘áº¡t Ä‘Æ°á»£c hiá»‡u suáº¥t tá»‘t hÆ¡n trong tÃ­nh toÃ¡n thá»i gian vÃ  cháº¥t lÆ°á»£ng giáº£i phÃ¡p cho VRP vÃ  cÃ¡c biáº¿n thá»ƒ. NhÆ° má»™t trong sá»‘ cÃ¡c thuáº­t toÃ¡n heuristic, thuáº­t toÃ¡n di truyá»n (GA) lÃ  dá»… dÃ ng Ä‘á»ƒ láº­p trÃ¬nh vÃ  cÃ³ thá»i gian tÃ­nh toÃ¡n nhanh hÆ¡n. HÆ¡n ná»¯a, GA Ä‘Ã£ Ä‘Æ°á»£c Ã¡p dá»¥ng rá»™ng rÃ£i trong cÃ¡c VRP hoáº·c biáº¿n thá»ƒ phá»©c táº¡p thá»±c hiá»‡n Ä‘áº·c biá»‡t lÃ  trong cÃ¡c máº¡ng lÆ°á»›i Ä‘Æ°á»ng lá»›n vÃ  thá»±c táº¿ vÃ  cÃ³ thá»ƒ cÃ³ Ä‘Æ°á»£c giáº£i phÃ¡p tá»‘t hÆ¡n cháº¥p nháº­n Ä‘Æ°á»£c. Do Ä‘Ã³, xem xÃ©t sá»± phá»©c táº¡p cá»§a mÃ´ hÃ¬nh Ä‘á» xuáº¥t vÃ  con Ä‘Æ°á»ng máº¡ng, GA Ä‘Æ°á»£c coi lÃ  cÃ´ng nghá»‡ giáº£i phÃ¡p mÃ´ hÃ¬nh trong bÃ i bÃ¡o.

Trong GA, má»™t sá»‘ lÆ°á»£ng cÃ¡ thá»ƒ cÃ³ gen Ä‘Æ°á»£c xá»­ lÃ½ bá»Ÿi cÃ¡c toÃ¡n tá»­ chá»n vÃ  nhÃ¢n Ä‘á»ƒ sáº£n xuáº¥t cÃ¡ nhÃ¢n má»›i. CÃ¡c cÃ¡ nhÃ¢n cÃ³ thá»ƒ lá»±c tá»‘t hÆ¡n sáº½ cÃ³ Ä‘Æ°á»£c nhiá»u cÆ¡ há»™i hÆ¡n Ä‘á»ƒ tá»“n táº¡i. Äá»ƒ Ä‘áº¡t Ä‘Æ°á»£c sá»± Ä‘a dáº¡ng Trong sá»‘ cÃ¡c cÃ¡ nhÃ¢n, chÃ©o vÃ  Ä‘á»™t biáº¿n Ä‘Æ°á»£c Ã¡p dá»¥ng trong thá»§ tá»¥c GA. Quy trÃ¬nh cá»§a GA Ä‘Æ°á»£c hiá»ƒn thá»‹ lÃ  sau.

BÆ°á»›c 1. Ãp dá»¥ng cháº¿ Ä‘á»™ Ä‘Æ°á»£c mÃ£ hÃ³a Ä‘á»ƒ táº¡o ra quÃ¢Ì€n thÃªÌ‰ ban Ä‘áº§u
ğ‘ƒ (ğ‘”ğ‘’ğ‘›) (| ğ‘ƒ (ğ‘”ğ‘’ğ‘›) | = ğ‘); thÃ¬ = 0.

![ GiaÌ triÌ£ tham sÃ´Ì]({{ site.baseurl }}/images/bang2_bai2.png "GiaÌ triÌ£ tham sÃ´Ì")

BÆ°á»›c 2. TÃ­nh toÃ¡n thá»ƒ lá»±c cho tá»«ng cÃ¡ nhÃ¢n trong P(ğ‘”ğ‘’ğ‘›)

BÆ°á»›c 3. Chá»n $$ Ne  $$ cÃ¡ nhÃ¢n tá»« $$ ğ‘ƒ(gen) $$ á»Ÿ thá»ƒ lá»±c cao giÃ¡ trá»‹ nhÆ° nhá»¯ng cÃ¡ nhÃ¢n Æ°u tÃº. Nhá»¯ng cÃ¡ nhÃ¢n Æ°u tÃº thÃ¬ khÃ´ng xá»­ lÃ½; sang BÆ°á»›c 7. CÃ¡c cÃ¡ nhÃ¢n cÃ²n láº¡i sÃ¡ng tÃ¡c má»™t dÃ¢n sá»‘ bÃ¬nh thÆ°á»ng $$ P1(gen) (| P1 (gen) | = ğ‘ - Ne). $$

BÆ°á»›c 4. Cá»© hai cÃ¡ thá»ƒ trong P1(gen) táº¡o thÃ nh má»™t cáº·p Ã¡p dá»¥ng trong má»™t chÃ©o. Má»—i cÃ¡ nhÃ¢n Ä‘Æ°á»£c yÃªu cáº§u pháº£i thá»a mÃ£n táº¥t cáº£ cÃ¡c rÃ ng buá»™c. Náº¿u khÃ´ng, cáº·p Ä‘Ã´i lÃ  vÃ´ Ã­ch; cháº¡y chÃ©o láº§n ná»¯a. ğ‘ƒ1 (gen) Ä‘Æ°á»£c cáº­p nháº­t.

BÆ°á»›c 5. Má»—i cÃ¡ nhÃ¢n trong P1(gen) Ä‘Æ°á»£c Ã¡p dá»¥ng trong má»™t Ä‘á»™t biáº¿n. Má»—i cÃ¡ nhÃ¢n Ä‘Æ°á»£c yÃªu cáº§u pháº£i Ä‘Ã¡p á»©ng táº¥t cáº£ cÃ¡c rÃ ng buá»™c. Náº¿u khÃ´ng, cÃ¡ nhÃ¢n lÃ  vÃ´ Ã­ch; cháº¡y láº¡i Ä‘á»™t biáº¿n. ğ‘ƒ1 (gen) lÃ  cáº­p nháº­t.

BÆ°á»›c 6. 1 P1(pen) vÃ  cÃ¡c cÃ¡ nhÃ¢n Æ°u tÃº Ä‘Æ°á»£c káº¿t há»£p Ä‘á»ƒ táº¡o thÃ nh má»™t quáº§n thá»ƒ má»›i P(gen), trong Ä‘Ã³ gen = gen + 1.

BÆ°á»›c 7. Náº¿u gen < T, quay láº¡i BÆ°á»›c 3. Náº¿u khÃ´ng, hÃ£y ngá»«ng cháº¡y
vÃ  Ä‘áº§u ra cÃ¡ nhÃ¢n cÃ³ giÃ¡ trá»‹ thá»ƒ dá»¥c cao nháº¥t trong
ğ‘ƒ (gen).

BÆ°á»›c 8. Giáº£i mÃ£ cÃ¡ nhÃ¢n Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c giáº£i phÃ¡p tá»‘i Æ°u

CÃ¡c tham sá»‘ GA (sá»‘ lÆ°á»£ng cÃ¡ nhÃ¢n, sá»‘ lÆ°á»£ng tháº¿ há»‡, sá»‘ lÆ°á»£ng cÃ¡ nhÃ¢n Æ°u tÃº, tá»· lá»‡ chÃ©o, vÃ  tá»· lá»‡ Ä‘á»™t biáº¿n) cÃ³ thá»ƒ cÃ³ tÃ¡c Ä‘á»™ng Ä‘áº¿n cÃ¡c giÃ¡ trá»‹ giáº£i phÃ¡p. Ba tham sá»‘ (sá»‘ lÆ°á»£ng cÃ¡ thá»ƒ, sá»‘ lÆ°á»£ng tháº¿ há»‡ vÃ  sá»‘ lÆ°á»£ng cÃ¡ nhÃ¢n Æ°u tÃº) Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh báº±ng nhiá»u thÃ­ nghiá»‡m vá»›i cÃ¡c thÃ´ng sá»‘ khÃ¡c nhau. VÃ  hai cÃ¡c tham sá»‘ (tá»· lá»‡ chÃ©o vÃ  tá»· lá»‡ Ä‘á»™t biáº¿n) Ä‘Æ°á»£c chá»n trong pháº¡m vi giÃ¡ trá»‹ há»£p lÃ½ cá»§a há». Táº¥t cáº£ cÃ¡c tham sá»‘ trong GA lÃ  Ä‘Æ°á»£c liá»‡t kÃª trong Báº£ng 2.

Hai biáº¿n quyáº¿t Ä‘á»‹nh $$ y_{ik} $$ (tuyáº¿n Ä‘Æ°á»ng) vÃ  $$ ğ‘¥_{ijk} $$ (tÃ­nh phÃ­ káº¿ hoáº¡ch) cÃ³ thá»ƒ Ä‘Æ°á»£c láº¥y tá»« cÃ¡ nhÃ¢n. MÃ£ hÃ³a cháº¿ Ä‘á»™ trong Ä‘Ã³ cÃ¡c biáº¿n quyáº¿t Ä‘á»‹nh Ä‘Æ°á»£c thá»ƒ hiá»‡n bá»Ÿi cÃ¡ nhÃ¢n lÃ  tiá»n Ä‘á» cá»§a GA. ChÃºng tÃ´i Ã¡p dá»¥ng cháº¿ Ä‘á»™ trong Ä‘Ã³ cÃ¡ nhÃ¢n bao gá»“m táº¥t cáº£ cÃ¡c nÃºt truy cáº­p. VÃ­ dá»¥, cÃ³ lÃ  má»™t kho, nn khÃ¡ch hÃ ng,mm tráº¡m sáº¡c vÃ  phÆ°Æ¡ng tiá»‡n. Quy trÃ¬nh cá»§a cháº¿ Ä‘á»™ Ä‘Æ°á»£c mÃ£ hÃ³a nhÆ° sau:

(1) Sá»‘ sÃª-ri cá»§a nn khÃ¡ch hÃ ng vÃ  mm caÌc traÌ£m tiÌnh phiÌ Ä‘Æ°á»£c sáº¯p xáº¿p liÃªn tiáº¿p lÃ  1 ,. . . , nn, nn + 1 ,. . . , mm.